<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/sample.css">
    <title>じゃんけん</title>
    <style>
        body {
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }

        button {
            width: 100px;
            height: 50px;
            line-height: 50px;
            border: solid 2px rgb(186, 173, 173);
            border-radius: 10px;
            background-color: rgb(219, 209, 209);
            font-size: 18px;
            text-align: center;
            vertical-align: middle;
            transition: transform 0.1s ease;
        }

        button:active {
            transform: translateY(4px);
        }


        #pc_hands,
        #judgment,
        #result {
            display: none;
        }
    </style>
</head>

<body>
    <header>
        <h1>じゃんけん</h1>
    </header>
    <main>
        <ul>
            <button id="gu_btn">グー</button>
            <button id="cho_btn">チョキ</button>
            <button id="par_btn">パー</button>
        </ul>
        <div>コンピュータ<span id="pc_hands"></span></div>
        <div id="judgment"></div>
        <div id="result"></div>
    </main>
    <footer>
        <h2>✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️ ✋ ✊ ✌️</h2>
    </footer>
    <script>

        function getComputerHand() {
            const r = Math.ceil(Math.random() * 3);
            if (r === 1) return '<img src="guu.png" width="80">';
            if (r === 2) return '<img src="cho.png" width="80">';
            if (r === 3) return '<img src="par.png" width="80">';
        }


        function determineWinner(playerHand, computerHand) {
            if (playerHand === computerHand) {
                return '<img src="hikiwake.png" width="200">';
            }
            if (
                (playerHand === '<img src="guu.png" width="80">' && computerHand === '<img src="cho.png" width="80">') ||
                (playerHand === '<img src="cho.png" width="80">' && computerHand === '<img src="par.png" width="80">') ||
                (playerHand === '<img src="par.png" width="80">' && computerHand === '<img src="guu.png" width="80">')
            ) {
                return '<img src="kachi.jpeg" width="200">';
            }
            return '<img src="make.jpeg" width="200">';
        }


        function handleClick(playerHand) {
            const computerHand = getComputerHand();
            $("#pc_hands").hide().html(computerHand).fadeIn(1000);
            $("#judgment").hide().html("あなた " + playerHand).fadeIn(1000);
            $("#result").hide().html(determineWinner(playerHand, computerHand)).fadeIn(1000);
    
            } 
        $("#gu_btn").on("click", function () {
            handleClick('<img src="guu.png" width="80">');
        });

        $("#cho_btn").on("click", function () {
            handleClick('<img src="cho.png" width="80">');
        });

        $("#par_btn").on("click", function () {
            handleClick('<img src="par.png" width="80">');
        });
    </script>
</body>

</html>